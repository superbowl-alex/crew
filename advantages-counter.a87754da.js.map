{"version":3,"sources":["../js/advantages-counter.js"],"names":["windowLoad","digitsCountersInit","digitsCountersItems","digitsCounters","document","querySelectorAll","forEach","digitsCounter","startTimeStamp","finishValue","parseInt","innerHTML","step","timestamp","progress","Math","min","floor","window","requestAnimationFrame","digitsCountersAnimate","observer","IntersectionObserver","entries","entry","isIntersecting","targetElement","target","length","unobserve","treshold","observedSection","querySelector","observe","addEventListener"],"mappings":";AAAA,aAGA,SAASA,IAEP,SAASC,EAAmBC,GAC1B,IAAIC,EAAiBD,GAEjBE,SAASC,iBAAiB,yBAC1BF,GACFA,EAAeG,QAAQC,KAM3B,SAA+BA,GAC7B,IAAIC,EAAiB,KACrB,MACMC,EAAcC,SAASH,EAAcI,WAErCC,EAAOC,IACNL,IACHA,EAAiBK,GAEnB,MAAMC,EAAWC,KAAKC,KAAKH,EAAYL,GAPxB,IAOoD,GACnED,EAAcI,UAAYI,KAAKE,MAAMH,GANjB,EAM6CL,IAC7DK,EAAW,GACbI,OAAOC,sBAAsBP,IAGjCM,OAAOC,sBAAsBP,GApBzBQ,CAAsBb,KAwB5B,IAIIc,EAAW,IAAIC,qBAAqB,CAACC,EAASF,KAChDE,EAAQjB,QAAQkB,IACd,GAAIA,EAAMC,eAAgB,CACxB,MAAMC,EAAgBF,EAAMG,OACtBzB,EAAsBwB,EAAcrB,iBAAiB,yBACvDH,EAAoB0B,QACtB3B,EAAmBC,GAErBmB,EAASQ,UAAUH,OAZX,CACZI,SAAU,IAgBRC,EAAkB3B,SAAS4B,cAAc,uBAC7CX,EAASY,QAAQF,GApDnBb,OAAOgB,iBAAiB,OAAQlC","file":"advantages-counter.a87754da.js","sourceRoot":"../src","sourcesContent":["'use strict';\nwindow.addEventListener('load', windowLoad);\n\nfunction windowLoad() {\n  // Функція ініціалізації\n  function digitsCountersInit(digitsCountersItems) {\n    let digitsCounters = digitsCountersItems\n      ? digitsCountersItems\n      : document.querySelectorAll('[data-digits-counter]');\n    if (digitsCounters) {\n      digitsCounters.forEach(digitsCounter => {\n        digitsCountersAnimate(digitsCounter);\n      });\n    }\n  }\n  // Функція анімації\n  function digitsCountersAnimate(digitsCounter) {\n    let startTimeStamp = null;\n    const duration = 1000;\n    const finishValue = parseInt(digitsCounter.innerHTML);\n    const startPosition = 0;\n    const step = timestamp => {\n      if (!startTimeStamp) {\n        startTimeStamp = timestamp;\n      }\n      const progress = Math.min((timestamp - startTimeStamp) / duration, 1);\n      digitsCounter.innerHTML = Math.floor(progress * (startPosition + finishValue));\n      if (progress < 1) {\n        window.requestAnimationFrame(step);\n      }\n    };\n    window.requestAnimationFrame(step);\n  }\n\n  // Пуск при скролі (появі секції advantages)\n  let options = {\n    treshold: 1,\n  };\n\n  let observer = new IntersectionObserver((entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting) {\n        const targetElement = entry.target;\n        const digitsCountersItems = targetElement.querySelectorAll('[data-digits-counter]');\n        if (digitsCountersItems.length) {\n          digitsCountersInit(digitsCountersItems);\n        }\n        observer.unobserve(targetElement);\n      }\n    });\n  }, options);\n\n  let observedSection = document.querySelector('.advantages-section');\n  observer.observe(observedSection);\n}\n"]}